# 一、设计模式之UML类图

`UML`类图可以很清晰的表达程序的设计，在程序开发中各种类存在不同的依赖关系，在`UML`中使用不同的箭头来表达类之间的关系，例如**依赖关系**、**关联关系**、**泛化关系**、**实现关系**、**组合关系***和**聚合关系**。

可以使用`StartUML`工具或者`Rose`工具来画类图，但是已经`2019`年啦。我们有强大的`IDEA`开发工具，我们可以安装插件来画类图，下面就是一个类图。

![image-20190712233955913](http://image.luokangyuan.com/2019-07-12-154000.png)

## 1.1.依赖关系

**依赖关系**（`dependency`）,在`UML`类图中使用**带普通箭头的虚线表示**，如下所示：

![image-20190713001756745](http://image.luokangyuan.com/2019-07-12-161801.png)

* `UserService`类中使用啦成员变量`UserMapper`，故可以描述为`UserService`依赖`UserMapper`。
* `UserService`类中的`saveUser(User user)`方法参数使用啦`User`，故可以描述为`UserService`依赖`User`。
* `UserService`类中的`getCorp()`方法的返回类型是`Corp`类型，故可以描述为`UserService`依赖`Corp`。

> 依赖关系就是一个类A中使用到对方类B，例如私有变量使用B类，方法参数使用B类，构造方法等，那么就可以说是A类依赖B类。在UML类图中就可以使用依赖关系表示。

## 1.2.泛化关系

**泛化关系**（`generalization`）也称之为**继承关系**,是**依赖关系**的一种特例。在`UML`类图中使用**带实心三角箭头的实线表示**，如下所示：

![image-20190713002745702](http://image.luokangyuan.com/2019-07-12-162748.png)

> 如果A类和B类存在类继承关系，那么在UML类图中就可以使用泛化关系来描述。

## 1.3.实现关系

**实现关系**（`Implementation`），是**依赖关系**的一种特例，在`UML`类图中使用**带实心三角箭头的虚线表示**，如下所示：

![image-20190713003929571](http://image.luokangyuan.com/2019-07-12-163933.png)

> 如果A类实现了B接口，就可以使用实现关系描述。

## 1.4.关联关系

**关联关系**（`association`）,表示的是类与类之间的联系，是**依赖关系**的一种特例，在`UML`类图中使用**带普通箭头的实线**表示，关联关系中有分为单向关联关系和双向关联关系。如下所示的单向一对一关联关系：

![image-20190713143138513](http://image.luokangyuan.com/2019-07-13-063142.png)

## 1.5.聚合关系

**聚合关系**（`aggregation`）,表示的是整体与部分之间的关系，属于关联关系的一种特例，所以也具有导航性和多重性，表示的是**整体和部分可以分开**，例如笔记本和鼠标，笔记本可以离开鼠标，所以他们之间的关系就可以使用聚合关系来描述，在`UML`类图中使用**空心的菱形箭头实线**表示的，

## 1.6.组合关系

**组合关系**（`composition`）,表示的是**整体与部分不可分开**，例如，人与身份证，合法公民都应该有自己的一个身份证，且不可缺少，所以，他们之间就可以称之为**组合关系**，在`UML`类图中使用**带实心的菱形箭头的实线**表示，如下所示：

![image-20190713145211242](http://image.luokangyuan.com/2019-07-13-065215.png)

